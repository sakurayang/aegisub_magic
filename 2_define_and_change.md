# 第二章 定义与变化

> マイハウス is 段ポール &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;<span class="song_name">Yunomi/nicamoq《インドア系ならトラックメイカー》</span>

在上一章中，我们提到了两个基本的概念

<span class="definition">定义魔咒用于定义字幕的属性</span>

<span class="definition">变化魔咒用于改变字幕的属性</span>

也就是说，我们首先需要定义了字幕的属性才能来谈变化。同时，根据上一章说到的，变化具有三个基本条件。

- 时间 - 从什么时候开始，到什么时候结束
- 起始状态 - 一开始是什么样子的
- 结束状态 - 最后是什么样子的

一般来说，我们会先思考我们想要的效果是什么，例如淡入，它应当被理解为是发生在透明度属性上的变化，起始状态是完全透明的，结束状态是完全不透明的，持续时间由用户自行定义。接下来我们以`fad`以及`fade`魔咒为例子进行讲述。

`fad`魔咒与`fade`魔咒控制的便是淡入与淡出。

在大多数情况下，`fad`为`fade`的简化版本，对于`fad`来说，它应当分为两个阶段来理解。
- 第一阶段：从字幕出现开始，起始状态是完全透明，持续时间是 t1，结束状态是完全不透明。可理解为淡入。
- 第二阶段：从字幕结束之前的 t2 毫秒开始，起始状态是完全不透明，持续时间 t2，结束状态是完全透明。可理解为淡出
如果将某一个参数设置为0，这代表对应的阶段不会发生。

<!-- tabs:start -->
#### **魔咒**
```text
{\fad(<t1:淡入时间(毫秒)>, <t2:淡出时间(毫秒)>)}
```
#### **效果演示（1倍速）**

![](_media/fad_speed_10.gif "-gifcontrol-mode=click;")
  
#### **效果演示（0.1倍速）**

![](_media/fad_speed_1.gif "-gifcontrol-mode=click;")
                  
<!-- tabs:end -->

`fade`是具有更多参数，更加复杂的渐变，它更加清楚地描述了这个变化，将上面的所展示的例子改写为`fade`的话会是这样的（假设字幕持续时间为1000ms）：
```text
\fade(<a1>,<a2>,<a3>,<t1>,<t2>,<t3>,<t4>)
{\fad(100, 100)}  --->  {\fade(  0, 255,   0, 0, 100,  900, 1000)}
{\fad(  0, 100)}  --->  {\fade(255, 255,   0, 0,   0,  900, 1000)}
{\fad(100,   0)}  --->  {\fade(  0, 255, 255, 0, 100, 1000, 1000)}
```

- 在 t1 之前，文本透明度是 a1。
- 在 t1 和 t2 之间，文本从透明度 a1 渐变到透明度 a2。
- 在 t2 和 t3 之间，文本透明度保持 a2 不变。
- 在 t3 和 t4 之间，文本从透明度 a2 渐变到透明度 a3。
- 在 t4 之后，文本透明度是 a3。